require('dotenv').config();
var express = require('express');

var BuddaSay = [
    "«В природе вещей радость возникает в человеке, свободном от угрызений совести.»",
    "«Дисциплинированный ум дарует счастье.»",
    "«Пусть у всех существ будут только счастливые мысли.»",
    "«Отпусти то, что не принадлежит тебе. Отпустив, ты надолго обретешь счастье и благо.»",
    "«Тот, кто всегда стремится почитать старших и помогать им, достигает четырех благословений: долгая жизнь и красота, счастье и сила.»",
    "«Тот, кто сам, находясь в поиске счастья, жестоко угнетает других существ, которые также желают счастья, не достигнет счастья в будущем.»",
    "«Поистине счастлив тот, кто ничем не владеет.»",
    "«Победи себя и выиграешь тысячи битв»",
    "«Вы сами, как никто другой во всей вселенной, заслуживаете своей любви и преданности.»",
    "«Всякая усиленная привязанность ко всему земному — страдание.»",
    "«Думать, что кто-то другой может сделать тебя счастливым или несчастным, — просто смешно.»",
    "«Ваш ум – всё. Вы становитесь тем, что думаете.»",
    "«Легко жить тому, кто нахален, как ворона, дерзок, навязчив, безрассуден, испорчен. Но трудно жить тому, кто скромен, кто всегда ищет чистое, кто беспристрастен, хладнокровен, прозорлив, чья жизнь чиста...»",
    "«Сколько бы мудрых слов ты ни прочел, сколько бы ни произнес, какой тебе от них толк, коль ты не применяешь их на деле?»",
    "«ысячи свечей можно зажечь от единственной свечи, и жизнь ее не станет короче. Счастья не становится меньше, когда им делишься.»",
    "«Не жизнь, и не богатство, и не власть делают из человека раба, но лишь его привязанность к жизни, богатству и власти.»",
    "«Не отвечайте злом на зло, иначе злу не будет конца. В ответ на обиду поцелуй врага своего, и ему станет намного больнее.»",
    "«И не было, и не будет, и теперь нет человека, который достоин только порицаний или только похвалы.»"
];  



var app = express();
var handlebars = require('express-handlebars').create({defaultLayout: 'main'});
app.engine('handlebars', handlebars.engine);
app.set('view engine', 'handlebars');

app.use(express.static(__dirname+'/public'));

app.set('port', process.env.PORT || 3000);

app.get('/', (req, res) => {
    var randomBuddaSay = BuddaSay[Math.floor(Math.random() * BuddaSay.length)];
    res.render('home', { buddasay: randomBuddaSay});
});

app.get('/about', (req, res) => {
    res.render('about');
});

app.use( (req,res) => {
    res.status(404);
    res.render('404');
});

app.use( (err, req, res, next) => {
    console.log(err.stack);
    res.status(500);
    res.render('500');
});

app.listen(app.get('port'), () => {
    console.log('Express запущен по адресу http://localhost:' + app.get('port'));
});


